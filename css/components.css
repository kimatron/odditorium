/* ==========================================
   COMPONENTS
   Reusable components: buttons, cards, forms
   ========================================== */

/* ==========================================
   CHUNKY BUTTON
   The button with jagged edges and 3D effect
   ========================================== */

.chunky-button {
    /* Display and positioning */
    display: inline-block;
    position: relative;
    
    /* Text styling */
    font-family: var(--font-body);
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--dark);
    text-decoration: none;
    
    /* Spacing */
    padding: 1rem 2rem;
    
    /* 
       GRADIENT BACKGROUND
       Creates a gradient that shifts on hover
       - Starts at orange (top 33%)
       - Transitions through middle
       - Ends at lime (bottom 66%)
       - 400% tall so most of it is hidden below
       - On hover, we shift it up to show the lime
    */
    background: linear-gradient(
        to bottom, 
        var(--primary) 33%, 
        var(--secondary) 66%
    ) 50% 0% / 100% 400% no-repeat;
    
    /* 
       DROP SHADOW
       Creates the black outline effect
       - 4 shadows for top, bottom, left, right (makes the border)
       - 5th shadow creates the 3D offset (5px down and right)
    */
    filter: drop-shadow(0 1px 0 #000)      /* top border */
            drop-shadow(-1px 0 0 #000)     /* left border */
            drop-shadow(1px 0 0 #000)      /* right border */
            drop-shadow(0 -1px 0 #000)     /* bottom border */
            drop-shadow(5px 5px 0 #000);   /* 3D shadow */
    
    /* Animation */
    transition: all 0.3s ease;
    cursor: pointer;
    border: none;
}

/* 
   PSEUDO-ELEMENTS
   Create the jagged edges on left and right sides
   These inherit the gradient background
*/

/* Right side jagged edge */
.chunky-button::before {
    content: "";
    position: absolute;
    width: 1rem;              /* 16px wide */
    height: 100%;             /* Full height of button */
    top: 0;
    right: -1px;              /* Sits just outside the button */
    background: inherit;      /* Inherits the gradient */
    
    /* 
       CLIP-PATH
       Cuts the rectangle into a jagged shape
       polygon() defines points to create the shape
       Think of it like connect-the-dots
    */
    clip-path: polygon(
        100% 0,      /* top right */
        74% 28%,     /* jagged point */
        100% 29%,    /* back to edge */
        100% 70%,    /* down the edge */
        84% 78%,     /* jagged point */
        100% 100%,   /* bottom right */
        0 100%,      /* bottom left */
        0 0          /* back to start */
    );
}

/* Left side jagged edge */
.chunky-button::after {
    content: "";
    position: absolute;
    width: 1rem;
    height: 100%;
    top: 0;
    left: calc(-1rem + 1px);  /* Sits just outside the button on left */
    background: inherit;
    
    /* Different jagged pattern for left side */
    clip-path: polygon(
        23% 19%,     /* jagged point */
        0 0,         /* top left */
        100% 0,      /* top right */
        100% 100%,   /* bottom right */
        0 100%,      /* bottom left */
        29% 79%,     /* jagged point */
        9% 80%,      /* jagged point */
        0 33%        /* back to edge */
    );
}

/* 
   HOVER STATE
   - Removes the 3D shadow (only keeps the border)
   - Moves the button down and right by 5px (simulates push)
   - Shifts gradient to show lime color
*/
.chunky-button:hover {
    filter: drop-shadow(0 1px 0 #000) 
            drop-shadow(-1px 0 0 #000)
            drop-shadow(1px 0 0 #000) 
            drop-shadow(0 -1px 0 #000);
    transform: translate(5px, 5px);  /* Moves button to where shadow was */
    background-position: 50% 100%;   /* Shifts gradient to show lime */
}

/* 
   ACTIVE STATE (when clicking)
   Makes button feel more responsive
*/
.chunky-button:active {
    transform: translate(6px, 6px);  /* Push a tiny bit more */
}

/* ==========================================
   PRODUCT GRID
   Grid layout for displaying products
   ========================================== */

.product-grid {
    /* 
       CSS GRID LAYOUT
       - repeat(auto-fit, ...) creates as many columns as will fit
       - minmax(225px, 1fr) each column is min 225px, max equal width
       - Result: automatically responsive!
    */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(225px, 1fr));
    gap: 1.25rem;  /* Space between cards */
    margin-bottom: var(--spacing-lg);
}

/* ==========================================
   PRODUCT CARD
   Individual product display
   ========================================== */

.product-card {
    /* Layout */
    padding: 1rem 2rem 0 2rem;
    max-height: 600px;
    text-align: center;
    position: relative;  /* For positioning wiggly borders */
    overflow: hidden;    /* Clips content to card edges */
    
    /* Centering */
    margin: 0 auto;
    width: 100%;
    max-width: 18rem;  /* 288px */
    
    /* White background */
    background: white;
    
    /* Border and shadow */
    border: 2px solid var(--dark);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    
    /* Smooth transition for hover effects */
    transition: var(--transition-normal);
}

/* Hover effect - card lifts up slightly */
.product-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg);
}

/* ==========================================
   PRODUCT IMAGE
   ========================================== */

.product-image-wrapper {
    overflow: hidden;
    margin-bottom: -0.25rem;  /* Removes gap below image */
    padding-inline: 1rem;
    position: relative;
}

.product-image {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto 16px;
    width: 58%;  /* Image takes up 58% of card width */
    
    /* Transform from top center when scaling */
    transform-origin: top center;
    
    /* Smooth scale animation */
    transition: transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* On hover, image scales up */
.product-card:hover .product-image {
    transform: scale(1.5);
}

/* ==========================================
   PRODUCT DETAILS
   Price, badge, title
   ========================================== */

.product-details {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--text-lg);
    margin-bottom: 16px;
}

.product-price {
    font-weight: 600;
    color: var(--primary);
}

/* Badge (New, Popular, etc) */
.product-badge {
    background: var(--secondary);
    color: var(--dark);
    padding: 4px 8px;
    border-radius: 4px;
    font-size: var(--text-xs);
    font-weight: 600;
}

/* Product title container */
.product-title-wrapper {
    position: relative;
    height: 80px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.product-title {
    font-size: var(--text-base);
    margin: 8px 0;
    letter-spacing: 0.5px;
}

/* ==========================================
   ADD TO CART BUTTON
   Appears below title on hover
   ========================================== */

.product-button-wrapper {
    margin-top: var(--spacing-xs);
    opacity: 0;  /* Hidden by default */
    transition: opacity 200ms;
}

/* Show button on hover or focus */
.product-card:hover .product-button-wrapper,
.product-card:focus-within .product-button-wrapper {
    opacity: 1;
}

/* Smaller version of chunky button for products */
.add-to-cart-btn {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    font-weight: 600;
    padding: 0.75rem 1.5rem;
    
    /* Same gradient as main button */
    background: linear-gradient(
        to bottom, 
        var(--primary) 33%, 
        var(--secondary) 66%
    ) 50% 0% / 100% 400% no-repeat;
    
    color: var(--dark);
    border: none;
    cursor: pointer;
    
    /* Same shadow effect */
    filter: drop-shadow(0 1px 0 #000) 
            drop-shadow(-1px 0 0 #000)
            drop-shadow(1px 0 0 #000) 
            drop-shadow(0 -1px 0 #000)
            drop-shadow(4px 4px 0 #000);
    
    transition: all 0.3s ease;
}

.add-to-cart-btn:hover {
    filter: drop-shadow(0 1px 0 #000) 
            drop-shadow(-1px 0 0 #000)
            drop-shadow(1px 0 0 #000) 
            drop-shadow(0 -1px 0 #000);
    transform: translate(4px, 4px);
    background-position: 50% 100%;
}